<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Employee Dashboard - Minimal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-2 bg-light sidebar">
            <div class="p-3">
                <h5>Hotel Management</h5>
                <button class="btn btn-outline-primary w-100 mb-2 nav-btn active" data-cat="booking">Room Booking
                </button>
                <button class="btn btn-outline-primary w-100 mb-2 nav-btn" data-cat="leave">Leave Request</button>
                <button class="btn btn-outline-primary w-100 mb-2 nav-btn" data-cat="employees"
                        th:if="${currentUser?.role == 'ADMIN'}">Employee Management
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="col-md-10">
            <div class="p-4">
                <h1>Employee Dashboard</h1>

                <!-- Success/Error Messages -->
                <div class="alert alert-success" th:if="${message}" th:text="${message}"></div>
                <div class="alert alert-danger" th:if="${error}" th:text="${error}"></div>

                <!-- Room Booking Section -->
                <section class="main-card" data-cat="booking">
                    <div class="card">
                        <div class="card-body">
                            <h4>Room Management</h4>
                            <p>Room management features here...</p>
                        </div>
                    </div>
                </section>

                <!-- Leave Request Section -->
                <section class="main-card d-none" data-cat="leave">
                    <div class="card">
                        <div class="card-body">
                            <h4>Leave Requests</h4>
                            <p>Leave request features here...</p>
                        </div>
                    </div>
                </section>

                <!-- Employee Management Section -->
                <section class="main-card d-none" data-cat="employees" th:if="${currentUser?.role == 'ADMIN'}">
                    <div class="card">
                        <div class="card-body">
                            <h4>Employee Management</h4>
                            <form method="post" th:action="@{/employees}">
                                <div class="mb-3">
                                    <label class="form-label">First Name</label>
                                    <input class="form-control" name="firstName" required type="text">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Last Name</label>
                                    <input class="form-control" name="lastName" required type="text">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input class="form-control" name="email" required type="email">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Password</label>
                                    <input class="form-control" name="password" required type="password">
                                </div>
                                <button class="btn btn-primary" type="submit">Add Employee</button>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const navButtons = document.querySelectorAll('.nav-btn[data-cat]');
        const sections = document.querySelectorAll('.main-card[data-cat]');

        navButtons.forEach(button => {
            button.addEventListener('click', function() {
                const category = this.getAttribute('data-cat');

                // Update active button
                navButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');

                // Show/hide sections
                sections.forEach(section => {
                    if (section.getAttribute('data-cat') === category) {
                        section.classList.remove('d-none');
                    } else {
                        section.classList.add('d-none');
                    }
                });
            });
        });
    });
</script>
</body>
</html>
